{"version":3,"sources":["webpack://space/./src/pages/repository/Repository.scss?44a0","webpack://space/./src/pages/repository/Repository.tsx","webpack://space/./src/pages/repository/Repository.scss"],"names":["options","userStore","useForm","form","onFormFinish","e","owner","name","client","query","variables","data","message","setFieldsValue","repositoryId","repository","id","RepositoryForm","className","onFinish","onValuesChange","label","required","labelCol","span","style","display","justifyContent","type","htmlType","padding","textAlign","fontSize","___CSS_LOADER_EXPORT___","push","module","locals"],"mappings":"0XAGIA,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAMpB,GAJa,IAAI,IAASA,GAIX,YAAkB,I,kSCJjC,IAqEA,GArEmB,SAAS,WAAK,IACvBC,GAAc,SAAdA,UADuB,GAEhB,EAAAC,EAAA,KAARC,EAFwB,YAOzBC,EAAY,+BAAG,WAAOC,GAAP,kFACbC,EAAQD,EAAEC,MACVC,EAAOF,EAAEE,OAETC,EAASP,EAAUO,QAJN,iCAMMA,EAAOC,MAAM,CAClCA,OAAO,QAAF,KAQLC,UAAW,CACTJ,QACAC,UAjBa,iBAMTI,EANS,EAMTA,QAeNC,EAAA,WAAgB,QAChBT,EAAKU,eAAe,CAClBC,aAAcH,EAAKI,WAAWC,MAvBjB,4CAAH,sDA4BZC,EACJ,oBAAK,CACHC,UAAW,OACXf,KAAMA,EACNgB,SAAUf,EACVgB,eApCiB,SAACf,MAsClB,gBAAC,SAAS,CAACgB,MAAM,MAAMC,UAAQ,EAACf,KAAK,QAAQgB,SAAU,CAAEC,KAAM,IAC7D,oBAAM,OAER,gBAAC,SAAS,CAACH,MAAM,MAAMC,UAAQ,EAACf,KAAK,OAAOgB,SAAU,CAAEC,KAAM,IAC5D,oBAAM,OAER,gBAAC,SAAS,CAACH,MAAM,OAAOd,KAAK,eAAegB,SAAU,CAAEC,KAAM,IAC5D,oBAAM,OAER,gBAAC,SAAS,KACR,uBAAKC,MAAO,CAAEC,QAAS,OAAQC,eAAgB,WAC7C,oBAAO,CAACC,KAAK,UAAUC,SAAS,UAAQ,SAOhD,OACE,wBAAMX,UAAW,cACf,uBAAKO,MAAO,CAAEK,QAAS,OAAQC,UAAW,SAAUC,SAAU,KAAI,yBAGjEf,O,sECtEHgB,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOnB,GAAI,yDAA0D,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,oDAAoD,MAAQ,GAAG,SAAW,4BAA4B,eAAiB,CAAC,oDAAoD,WAAa,MAEvTiB,EAAwBG,OAAS,CAChC,WAAc,kCAEf","file":"scripts/787.3fa3c.bundule.js","sourcesContent":["import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./Repository.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import React from 'react';\nimport { observer } from 'mobx-react';\nimport Styles from './Repository.scss';\nimport { useForm } from 'antd/es/form/Form';\nimport { Button, Form, Input, message } from 'antd';\nimport { useStores } from '@/hooks/user-stores';\nimport { gql } from '@apollo/client';\n\nconst Repository = observer(() => {\n  const { userStore } = useStores();\n  const [form] = useForm();\n\n  const onFormChange = (e: any) => {\n    // console.log('fomChange', e);\n  };\n  const onFormFinish = async (e: any) => {\n    const owner = e.owner;\n    const name = e.name;\n    console.log(e);\n    const client = userStore.client;\n    if (client) {\n      const { data } = await client.query({\n        query: gql`\n          query repositoryInfo($owner: String!, $name: String!) {\n            repository(owner: $owner, name: $name) {\n              name\n              id\n            }\n          }\n        `,\n        variables: {\n          owner,\n          name,\n        },\n      });\n      if (data) {\n        message.success('获取成功');\n        form.setFieldsValue({\n          repositoryId: data.repository.id,\n        });\n      }\n    }\n  };\n  const RepositoryForm = (\n    <Form\n      className={Styles.Form}\n      form={form}\n      onFinish={onFormFinish}\n      onValuesChange={onFormChange}\n    >\n      <Form.Item label='用户名' required name='owner' labelCol={{ span: 4 }}>\n        <Input />\n      </Form.Item>\n      <Form.Item label='仓库名' required name='name' labelCol={{ span: 4 }}>\n        <Input />\n      </Form.Item>\n      <Form.Item label='仓库id' name='repositoryId' labelCol={{ span: 4 }}>\n        <Input />\n      </Form.Item>\n      <Form.Item>\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\n          <Button type='primary' htmlType='submit'>\n            确定\n          </Button>\n        </div>\n      </Form.Item>\n    </Form>\n  );\n  return (\n    <main className={Styles.Repository}>\n      <div style={{ padding: '20px', textAlign: 'center', fontSize: 20 }}>\n        输入用户名和仓库名，点击确定,获取仓库id\n      </div>\n      {RepositoryForm}\n    </main>\n  );\n});\nexport default Repository;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".Repository__Repository___t7jln{width:80%;margin:auto}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/repository/Repository.scss\"],\"names\":[],\"mappings\":\"AAAA,gCACE,SAAA,CACA,WAAA\",\"sourcesContent\":[\".Repository {\\n  width: 80%;\\n  margin: auto;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"Repository\": \"Repository__Repository___t7jln\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n"],"sourceRoot":""}