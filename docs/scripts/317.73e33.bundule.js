(self.webpackChunkspace=self.webpackChunkspace||[]).push([[317],{74317:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return T}});t(65278);var o=t(97183),r=t(87757),a=t.n(r),i=(t(35666),t(48926)),s=t.n(i),c=(t(63672),t(48086)),l=t(74803),u=t(20718),d=t(67294),p=t(93379),m=t.n(p),_=t(33355),A={insert:"head",singleton:!1},g=(m()(_.Z,A),_.Z.locals||{}),h=(t(82526),t(41817),t(92222),t(21249),t(22589),t(30696)),v=(t(42670),t(88335)),f=(t(14467),t(60331)),C=(t(57327),t(89554),t(26699),t(9653),t(38880),t(49337),t(47941),t(41539),t(88674),t(54747),t(59713),t(9669)),S=t.n(C),E=t(96287);var L="/api",w=S().create({headers:{"Content-Type":"application/json"},timeout:0,baseURL:L}),b=function(e){window.location.href=e};w.interceptors.request.use((function(e){var n="getUserinfo().token";return e.headers.Authorization=n,e}),(function(e){return c.ZP.error(e.msg||"请求错误,请重试"),Promise.reject(e)})),w.interceptors.response.use((function(e){e.config.url;var n=e.data;if(0!==n.code&&1!==n.code&&n.code)throw c.ZP.error(n.msg||"服务端错误,请重试"),n.code;return n}),(function(e){isNaN(e)||Promise.reject(e);var n=e.response;401==(null==n?void 0:n.status)?(c.ZP.error("请重新登录！"),(0,E.Z)((function(){b("/login")}),{wait:300})):403===(null==n?void 0:n.status)?c.ZP.error("没有权限,禁止请求"):c.ZP.error(e.msg||"网络错误,请稍后再试");var t=null==n?void 0:n.status;return Promise.reject(t)}));var k=t(16550),x=t(70342),y={insert:"head",singleton:!1},Z=(m()(x.Z,y),x.Z.locals||{}),P=function(e){var n=e.issues,t=e.repository,o=t.owner,r=t.name,a=(0,k.k6)();return d.createElement(v.ZP,{className:Z.SpaceList,itemLayout:"horizontal",dataSource:n,split:!1,renderItem:function(e,n){var t,i=e.node,s=function(e){var n="https://github.com/".concat(o,"/").concat(r,"/issues/").concat(e);window.open(n)},c=function(){var n,t,o,r,a=d.createElement("div",{onClick:function(){return s(e.node.number)}},d.createElement("g-emoji",{alias:"heart","fallback-src":"https://github.githubassets.com/images/icons/emoji/unicode/2764.png",class:"emoji mr-1"},"❤️"),null===(n=e.node)||void 0===n||null===(t=n.reactions)||void 0===t?void 0:t.totalCount),i=d.createElement("div",{onClick:function(n){return s(e.node.number)}},d.createElement("g-emoji",{class:"g-emoji",alias:"speech_balloon","fallback-src":"https://github.githubassets.com/images/icons/emoji/unicode/1f4ac.png"},"💬"),null===(o=e.node)||void 0===o||null===(r=o.comments)||void 0===r?void 0:r.totalCount);return d.createElement("div",{className:Z.Footer,title:"默认转到gituhub issues"},a," ",i)},l=(null!==(t=i.labels.edges)&&void 0!==t?t:[]).map((function(e,n){var t=e.node;return d.createElement(f.Z,{key:t.id,color:"#".concat(t.color),title:t.description},t.name)})),u=d.createElement("div",{className:Z.CardMore,style:{display:"flex"}},d.createElement("a",{onClick:function(){var n=function(e){var n=e.owner,t=e.name,o=e.index;return"https://github.com/".concat(n,"/").concat(t,"/issues/").concat(o)}({owner:o,name:r,index:e.node.number});window.open(n)}},"More"),d.createElement("a",{onClick:function(){return a.push("/edit/new",{index:e.node.number})}},"Edit"));return d.createElement(v.ZP.Item,null,d.createElement(h.Z,{className:Z.SpaceCard,style:{width:"100%"},bordered:!0,title:i.title,extra:u,actions:[d.createElement(c,{key:i.id})]},d.createElement("div",null,l),d.createElement("div",{dangerouslySetInnerHTML:{__html:i.bodyHTML}})))}})},H=t(97076),T=(0,u.Pi)((function(){var e=(0,l.m)(),n=e.userStore,t=e.issuesStore;(0,H.Z)((function(){window.addEventListener("scroll",r),t.pageData.length<=0&&t.getPageData()}));var r=function(){var e=document.documentElement.scrollHeight;document.documentElement.scrollTop+document.documentElement.clientHeight>e-2&&!t.loading&&(c.ZP.info("loading more"),i())},i=function(){var e=s()(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getNextPage();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.createElement(o.Z.Content,{className:g.Home},d.createElement(P,{issues:t.pageData,repository:n.userRepository}))}))},33355:function(e,n,t){"use strict";var o=t(94015),r=t.n(o),a=t(23645),i=t.n(a)()(r());i.push([e.id,".Home__Home___16iR-{padding:20px;color:red}","",{version:3,sources:["webpack://./src/pages/home/Home.scss"],names:[],mappings:"AAAA,oBACE,YAAA,CACA,SAAA",sourcesContent:[".Home {\n  padding: 20px;\n  color: red;\n}"],sourceRoot:""}]),i.locals={Home:"Home__Home___16iR-"},n.Z=i},70342:function(e,n,t){"use strict";var o=t(94015),r=t.n(o),a=t(23645),i=t.n(a)()(r());i.push([e.id,".SpaceList__SpaceList___3KnDT{width:100%}.SpaceList__SpaceList___3KnDT .SpaceList__SpaceCard___3VTmn div:nth-child(2){max-height:400px;overflow-y:scroll}.SpaceList__SpaceList___3KnDT .SpaceList__SpaceCard___3VTmn div:nth-child(2)::-webkit-scrollbar{display:none}.SpaceList__Footer___1-kLS{display:flex}.SpaceList__Footer___1-kLS>div:first-child{margin-left:10px}.SpaceList__Footer___1-kLS>div{padding:0px 10px}.SpaceList__CardMore___33rMq a{margin:0 5px}","",{version:3,sources:["webpack://./src/pages/home/components/space-list/SpaceList.scss"],names:[],mappings:"AAAA,8BACE,UAAA,CAEE,6EACE,gBAAA,CACA,iBAAA,CACA,gGACE,YAAA,CAKR,2BACE,YAAA,CACA,2CACE,gBAAA,CAEF,+BACE,gBAAA,CAKF,+BACE,YAAA",sourcesContent:[".SpaceList {\n  width: 100%;\n  .SpaceCard {\n    div:nth-child(2) {\n      max-height: 400px;\n      overflow-y: scroll;\n      &::-webkit-scrollbar {\n        display: none;\n      }\n    }\n  }\n}\n.Footer {\n  display: flex;\n  & > div:first-child {\n    margin-left: 10px;\n  }\n  & > div {\n    padding: 0px 10px;\n  }\n}\n\n.CardMore {\n  a {\n    margin: 0 5px;\n  }\n}"],sourceRoot:""}]),i.locals={SpaceList:"SpaceList__SpaceList___3KnDT",SpaceCard:"SpaceList__SpaceCard___3VTmn",Footer:"SpaceList__Footer___1-kLS",CardMore:"SpaceList__CardMore___33rMq"},n.Z=i}}]);