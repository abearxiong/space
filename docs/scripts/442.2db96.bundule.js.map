{"version":3,"sources":["webpack://type-tools/./src/pages/trans-swagger/TransSwagger.scss?43c7","webpack://type-tools/./src/utils/cache.ts","webpack://type-tools/./src/utils/regex.ts","webpack://type-tools/./src/models/store-model.ts","webpack://type-tools/./src/pages/trans-swagger/model.ts","webpack://type-tools/./src/pages/trans-swagger/store.ts","webpack://type-tools/./src/api/request.ts","webpack://type-tools/./src/pages/trans-swagger/api.ts","webpack://type-tools/./src/pages/trans-swagger/compontents/section-kv/SectionKV.scss?bf0b","webpack://type-tools/./src/pages/trans-swagger/compontents/section-kv/SectionKV.tsx","webpack://type-tools/./src/pages/trans-swagger/TransSwagger.tsx","webpack://type-tools/./src/pages/trans-swagger/TransSwagger.scss","webpack://type-tools/./src/pages/trans-swagger/compontents/section-kv/SectionKV.scss"],"names":["options","StorageEnum","DEFAULTCACHENAME","FormCache","Storage","flag","LOCAL","localStorage","SESSION","sessionStorage","set","params","name","storage","time","endDate","Date","valueOf","localUpdateTime","str","JSON","stringify","setItem","get","getItem","parseJson","parse","Number","clear","removeItem","window","cache","Bank","pattern","message","Email","HTML","NumMillion","NumGT1","NumGT10","Num","Money","Password","Phone","StrNoOtherChars","Url","IsPinduoduoUrl","IsPinGoodId","IsTaobaoUrl","IsTaobaoId","IsTmallUrl","IsTmallId","NumGT0","toJS","StoreBase","key","autoCache","data","SaveName","getCache","setCache","dispose","cancelCache","undefined","clearCache","this","isSet","ApiWay","StorePage","pageData","list","formData","payload","camelCase","s","isLowercase","length","charAt","toLowerCase","slice","toUpperCase","transPath","pathKeys","swaggerPath","url","map","item","apiWay","apiInfo","Get","post","Post","del","delete","Delete","put","Put","getApiWay","head","body","replace","split","filter","join","TransSwaggerStore","swagger","keys","Object","paths","StoresContext","transSwaggerStore","baseURL","instance","headers","timeout","location","href","interceptors","request","use","config","token","error","msg","Promise","reject","response","code","isNaN","status","useThrottle","wait","errCode","errBrowerCode","errHandle","c","includes","getSwaggerJson","requestConfig","catch","err","Section","v","children","bothHave","className","style","width","onClick","title","flexGrow","Search","showLoadingMsg","store","useState","apiUrl","setApiUrl","onSuccess","loadSwagger","run","loading","useEffect","FormSearch","placeholder","enterButton","size","value","searchText","onChange","e","target","setData","onSearch","PathsInfo","apiUrlHead","Content","padding","display","justifyContent","defaultValue","type","loadPaths","___CSS_LOADER_EXPORT___","push","module","id","locals"],"mappings":"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","file":"scripts/442.2db96.bundule.js","sourcesContent":["import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./TransSwagger.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","const DEFAULTCACHENAME = 'CACHE_NAME';\nenum StorageEnum {\n  LOCAL,\n  SESSION,\n}\nconst FormCache = {\n  Storage(flag = StorageEnum.LOCAL) {\n    switch (flag) {\n      case StorageEnum.LOCAL:\n        return localStorage;\n      case StorageEnum.SESSION:\n        return sessionStorage;\n      default:\n        return localStorage;\n    }\n  },\n  set: (\n    params: SimpleObject = {},\n    name = DEFAULTCACHENAME,\n    storage = localStorage,\n    time: number = 60 * 60,\n  ) => {\n    if (!params) return;\n    // time 缓存有效时间为一个小时\n    const endDate = new Date().valueOf() + time * 1000;\n    params.localUpdateTime = endDate;\n    const str = JSON.stringify(params);\n    storage.setItem(name, str);\n  },\n  get: (name = DEFAULTCACHENAME, storage = localStorage) => {\n    const str = storage.getItem(name);\n    if (!str) return;\n    // console.log('str', str);\n    try {\n      const parseJson = JSON.parse(str);\n      const localUpdateTime = parseJson?.localUpdateTime ?? '';\n      if (localUpdateTime) {\n        if (new Date().valueOf() > Number(localUpdateTime)) {\n          // 当前时间大于有效时间就是有问题，清除\n          FormCache.clear(name, storage);\n          return null;\n        }\n      }\n      delete parseJson['localUpdateTime'];\n      return parseJson;\n    } catch {\n      return null;\n    }\n  },\n  clear: (name = DEFAULTCACHENAME, storage = localStorage) => {\n    storage.removeItem(name);\n  },\n};\n\nexport { FormCache };\nwindow.cache = FormCache;\n","type ToCheckParam = {\n  reg: RegExp | string | Reg;\n  value: string;\n  message: string;\n  isPromise: boolean;\n};\n\ntype CheckVaild = {\n  reg: RegExp;\n  value: string;\n  message: string;\n  isPromise: boolean;\n};\ntype Reg = {\n  pattern: RegExp;\n  message: string;\n};\nconst checkVaild = ({ reg, value, message, isPromise }: CheckVaild) => {\n  if (isPromise) {\n    if (!reg.test(value)) {\n      return Promise.reject(message);\n    }\n    return Promise.resolve();\n  } else {\n    return Promise.resolve(reg.test(value));\n  }\n};\n\ntype Check = {\n  Bank: Reg;\n  Email: Reg;\n  NumMillion: Reg;\n  NumGT1: Reg;\n  NumGT10: Reg;\n  Num: Reg;\n  Money: Reg;\n  Password: Reg;\n  Phone: Reg;\n  StrNoOtherChars: Reg;\n  Url: Reg;\n  HTML: Reg;\n  [key: string]: Reg;\n};\ntype CheckNum = {\n  NumGT0: Reg;\n};\nconst checkNum: CheckNum = {\n  NumGT0: {\n    pattern: /^\\-\\d+$/,\n    message: '必须小于0',\n  },\n};\ntype CheckShop = {\n  // 自定义url\n  IsPinduoduoUrl: Reg;\n  IsPinGoodId: Reg;\n  IsTaobaoUrl: Reg;\n  IsTaobaoId: Reg;\n  IsTmallUrl: Reg;\n  IsTmallId: Reg;\n};\nconst checkShop: CheckShop = {\n  IsPinduoduoUrl: {\n    pattern: /yangkeduo\\.com/,\n    message: '拼多多url',\n  },\n  IsPinGoodId: {\n    pattern: /^(https?:\\/\\/)[\\d\\D]*yangkeduo\\.com[\\d\\D]*goods_id=\\d{5,12}$/,\n    message: '',\n  },\n  IsTaobaoUrl: { pattern: /taobao\\.com/, message: '淘宝url' },\n  IsTaobaoId: {\n    pattern: /^(https?:\\/\\/)[\\d\\D]*taobao\\.com[\\d\\D]*id=\\d{12}$/,\n    message: '',\n  },\n  IsTmallUrl: { pattern: /tmall\\.com/, message: '天猫url' },\n  IsTmallId: {\n    pattern: /^(https?:\\/\\/)[\\d\\D]*tmall\\.com[\\d\\D]*id=\\d{12}$/,\n    message: '',\n  },\n};\nconst check: Check & CheckShop & CheckNum = {\n  Bank: { pattern: /^\\d{10,28}$/, message: '请输入正确的银行卡号' },\n  Email: {\n    pattern: /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/,\n    message: '请输入正确的邮箱',\n  },\n  HTML: { pattern: /<\\/?[a-z][\\s\\S]*>/i, message: 'HTML标签' },\n  NumMillion: {\n    pattern: /^(\\d{1,6}(\\.\\d{1,2})|\\d{1,6})$/,\n    message: '精确小数点后2位,最大不超过百万',\n  },\n  NumGT1: {\n    pattern: /^\\+?[1-9]\\d*$/,\n    message: '不能小于1',\n  },\n  NumGT10: {\n    pattern: /^\\+?[1-9][0-9]\\d*$/,\n    message: '不能小于10',\n  },\n  Num: {\n    pattern: /^\\d+$/,\n    message: '只能是数字',\n  },\n  Money: {\n    pattern: /^(\\+)?\\d+.\\d{2}$/,\n    message: '保留两位小数的钱',\n  },\n  Password: {\n    pattern: /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/,\n    message: '密码',\n  },\n  Phone: {\n    pattern: /^1[3-9]\\d{9}$/,\n    message: '手机号',\n  },\n  StrNoOtherChars: {\n    pattern: /^[\\u4e00-\\u9fa5_a-zA-Z0-9]+$/,\n    message: '标题不能含有特殊字符',\n  },\n  Url: {\n    pattern: /^(https?:\\/\\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\\.)+[a-zA-Z]+)(:\\d+)?(\\/.*)?(\\?.*)?(#.*)?$/,\n    message: 'url验证',\n  },\n  ...checkShop,\n  ...checkNum,\n};\nconst Copywriting = {\n  check,\n};\n\n/**\n * 检查类型\n * @param ToCheckParam检查参数\n */\nconst toCheck = ({\n  reg,\n  value,\n  message = '',\n  isPromise = false,\n}: ToCheckParam) => {\n  if (typeof reg === 'string') {\n    const s: string = reg;\n    reg = check[s]?.pattern;\n    message = message || (check[s]?.message ?? '');\n    if (!reg) throw `reg: [${s}] 不存在`;\n    return checkVaild({ reg, value, message, isPromise });\n  } else if ('pattern' in reg) {\n    return checkVaild({ reg: (reg as Reg).pattern, value, message, isPromise });\n  }\n  return checkVaild({ reg, value, message, isPromise });\n};\n\ntype ToCheckPattern = {\n  reg: string | Reg | RegExp;\n  message?: string;\n};\n/**\n * 返回pattern的类型，主要使用在form表单当中\n * @param ToCheckParam\n */\nconst toCheckPattern = ({ reg, message = '' }: ToCheckPattern): Reg => {\n  if (typeof reg === 'string') {\n    const s: string = reg;\n    reg = check[s]?.pattern;\n    message = message || (check[s]?.message ?? '');\n    if (!reg) throw `reg: [${s}] 不存在`;\n    return { pattern: reg, message };\n  } else {\n    message = message || ((reg as Reg).message ?? '');\n    return { pattern: (reg as Reg).pattern, message };\n  }\n};\n\nexport { check, Copywriting, toCheck, toCheckPattern };\n","import { Paging, PagingForm } from '@/models';\nimport { FormCache } from '@/utils';\nimport { observable, action, computed, autorun, toJS } from 'mobx';\n\n// TODO: 浏览器窗口，部分toJS获取数据，以后删除\nwindow.toJS = toJS;\n/**\n * StoreBase\n * 如果要开启缓存，在constructor开启\n *  this.getCache();\n *  this.setCache();\n * 或者，自己手动调用配置\n */\nclass StoreBase<T = any> {\n  name = 'StoreBase';\n  // KEY的作用是对那些唯一化路由处理，比如路由页面/:id不同的\n  // 如果没有不同，一般默认值即可\n  key = 'KEY';\n  Storage = localStorage;\n  time = 60 * 60;\n  // 缓存当前页面数据\n  @observable data?: SimpleObject & T;\n\n  constructor() {\n    // 第一次获取，同时更新获取时间\n    if (this.name !== 'StoreBase') {\n      // the autocache must handle in children\n      this.getCache();\n      this.setCache();\n    }\n    // console.log('storeBase constructor', this.SaveName);\n  }\n  setData(data: any, { isSet = false }: any = {}) {\n    if (isSet) {\n      this.data = data;\n    } else {\n      if (this.data) {\n        this.data = { ...this.data, ...data };\n      } else {\n        this.data = data;\n      }\n    }\n  }\n  @computed get dataToString() {\n    return JSON.stringify(this.data);\n  }\n  @observable dispose?: () => any;\n  // 自动缓存\n  autoCache = () => {\n    // console.groupCollapsed(this.SaveName + ' cache ' + this.name);\n    // console.log('cacheData', this.SaveName, this.data);\n    // console.log('data', toJS(this.data));\n    // console.groupEnd();\n    const data = toJS(this.data);\n    // Object.keys(data as object);\n    data && FormCache.set(data, this.SaveName, this.Storage, this.time);\n  };\n  // 刷新后获取cache 如果需有其他 覆盖\n  getCache = () => {\n    this.data = FormCache.get(this.SaveName, this.Storage) ?? {};\n    // console.log('this.getCache', this.data, toJS(this.data));\n    return this.data;\n  };\n  // 设定缓存\n  setCache = () => {\n    // console.log('this.dispose', this.dispose);\n    this.dispose && this.dispose();\n    this.dispose = autorun(() => {\n      this.autoCache();\n    });\n  };\n  // 取消缓存\n  cancelCache = () => {\n    // 如果具有自动缓存，取消缓存\n    this.dispose && this.dispose();\n    this.dispose = undefined;\n  };\n  // 清除缓存\n  clearCache = () => {\n    this.data = undefined;\n    FormCache.clear(this.SaveName, this.Storage);\n  };\n  @computed get SaveName() {\n    return this.name + this.key;\n  }\n}\n/**\n * StorePage\n * 功能\n * 1. 举例:有表格的页面元素\n * 2. 使用作为，默认设定的store（主页，具有表单的）\n * 不具备多个附加类型，孩子页面，使用的表单类型，但是类型类似\n * ----\n * 思考多个数据类型，组件类型应用，建议StorePage\n * 注意： 根据不同的页面，如果有多个的话，建议，多类型处理\n * ------\n */\nclass StorePage<T = any, S = SimpleObject, V = any> extends StoreBase<V> {\n  name = 'StorePage';\n  key = 'KEY';\n  /**\n   * 分页数据\n   */\n  @observable\n  pageData: Paging<T> = {\n    list: [],\n  };\n  /**\n   * 表单数据\n   */\n  @observable\n  formData: PagingForm<S> | PagingForm<SimpleObject> | undefined = undefined;\n  /**\n   * 更新表单\n   */\n  @action.bound\n  refresh() {\n    if (this.formData) {\n      this.formData = { ...this.formData };\n    } else {\n      this.formData = {};\n    }\n  }\n  @action.bound\n  setPageData(payload: any) {\n    this.pageData = payload;\n  }\n  @action.bound\n  defaultPageData() {\n    this.pageData = { list: [] };\n  }\n  @action.bound\n  setFormData(payload: any = {}) {\n    const formData = this.formData;\n    this.formData = { ...formData, ...payload };\n  }\n  @action.bound\n  defaultFormData() {\n    this.formData = undefined;\n  }\n}\n\nexport { StoreBase, StorePage };\n","export enum ApiWay {\n  Get = 1,\n  Post,\n  Delete,\n  Put,\n}\nexport type ApiInfo = {\n  get?: any;\n  post?: any;\n  delete?: any;\n  put?: any;\n};\nexport const getApiWay = (apiInfo: ApiInfo): number => {\n  const get = apiInfo.get && ApiWay.Get;\n  const post = apiInfo.post && ApiWay.Post;\n  const del = apiInfo.delete && ApiWay.Delete;\n  const put = apiInfo.put && ApiWay.Put;\n  return get || post || del || put;\n};\n\nexport type SwaggerPath = {\n  [key: string]: ApiInfo;\n};\nexport type Definition = SimpleObject;\nexport type Tag = SimpleObject;\nexport type Swagger = {\n  basePath: string;\n  definitions: Definition;\n  host: string;\n  paths: SwaggerPath;\n  swagger: string;\n  tag: Tag[];\n};\n","import { action, observable } from 'mobx';\nimport { StoreBase } from '@/models/store-model';\nimport React from 'react';\nimport { ApiWay, Swagger, SwaggerPath, getApiWay } from './model';\n\nconst camelCase = (s: string, isLowercase = false) => {\n  if (s.length === 0) throw 'camelCase s is not blank';\n  if (isLowercase) {\n    return s.charAt(0).toLowerCase() + s.slice(1);\n  }\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};\nconst transPath = (pathKeys: string[], swaggerPath: SwaggerPath) => {\n  const url: SimpleObject = {};\n  pathKeys.map((item) => {\n    const apiWay = getApiWay(swaggerPath[item]);\n    const head = camelCase(ApiWay[apiWay], true);\n    const v1 = item.replace(/\\/v\\d+\\//g, '/');\n    const v2 = v1.replace(/(\\{|\\})/g, '');\n    const vs = v2.split('/').filter((s) => s.length > 0);\n    const body = vs.map((s) => camelCase(s)).join('');\n    const k = head + body;\n    url[k] = item.replace(/\\{/g, '${');\n  });\n  return url;\n};\nclass TransSwaggerStore<T = any> extends StoreBase<T> {\n  @observable name = 'TransSwagger';\n  Storage = localStorage;\n  constructor() {\n    super();\n    this.getCache();\n    this.setCache();\n    console.log('data', window.toJS(this.data));\n  }\n  @observable swagger?: Swagger;\n  @action.bound\n  loadSwagger(swagger: Swagger) {\n    console.log('swagger', swagger);\n    this.swagger = swagger;\n  }\n  @observable paths?: SimpleObject;\n  loadPaths() {\n    if (!this.swagger) throw `no swagger info`;\n    const keys = Object.keys(this.swagger!.paths ?? {});\n    this.paths = transPath(keys, this.swagger!.paths);\n    console.log('this.pahs', window.toJS(this.paths));\n  }\n}\n\nconst StoresContext = React.createContext({\n  transSwaggerStore: new TransSwaggerStore(),\n});\nexport const useStore = () => React.useContext(StoresContext);\n","import axios, { AxiosRequestConfig } from 'axios';\n\nimport { message } from 'antd';\nimport { useThrottle } from 'ahooks';\n\n// const env = process.env.ENV ?? 'development';\n// export const isMock = !!process?.env?.MOCK;\nconst isMock = false;\nconst baseURL = isMock ? '' : '/api';\n\n// console.log('isMock', isMock, process?.env?.MOCK, 'process', process?.env);\nexport const baseURlMerge = (url: string) => {\n  return baseURL + url;\n};\nconst headers: any = {\n  'Content-Type': 'application/json',\n};\n\nconst instance = axios.create({\n  headers,\n  timeout: 0,\n  baseURL,\n});\nconst history = {\n  push: (url: string) => {\n    window.location.href = url;\n  },\n};\ninstance.interceptors.request.use(\n  (config) => {\n    const headers = config.headers;\n    // 添加 token 请求头\n    const token = 'getUserinfo().token';\n    token && (headers['Authorization'] = token);\n\n    return config;\n  },\n  (error) => {\n    console.groupCollapsed('request error');\n    console.error(error);\n    console.groupEnd();\n    message.error(error.msg || '请求错误,请重试');\n    return Promise.reject(error);\n  },\n);\ninstance.interceptors.response.use(\n  (response) => {\n    const {\n      config: { url },\n    } = response;\n    const { data } = response;\n    console.groupCollapsed(`res: ${url}`);\n    console.error('data', data);\n    console.groupEnd();\n    //没有code或code错误\n    if (data.code !== 0 && data.code !== 1) {\n      if (data.code) {\n        message.error(data.msg || '服务端错误,请重试');\n        throw data.code;\n      }\n    }\n    return data;\n  },\n  (error) => {\n    if (!isNaN(error)) {\n      Promise.reject(error);\n    }\n    console.groupCollapsed('response error');\n    console.log(error);\n    const { response } = error;\n    console.log('response', response);\n\n    if (response?.status == 401) {\n      message.error('请重新登录！');\n      useThrottle(\n        () => {\n          history.push('/login');\n        },\n        { wait: 300 },\n      );\n    } else if (response?.status === 403) {\n      message.error('没有权限,禁止请求');\n    } else {\n      message.error(error.msg || '网络错误,请稍后再试');\n    }\n    console.groupEnd();\n    const errCode = response?.status;\n    return Promise.reject(errCode);\n  },\n);\n\nexport { instance };\n\n// 浏览器请求错误，可能是服务器或者404，让react开发不报错\nconst errBrowerCode = [403, 404, 500];\n// 错误抓取\nconst errHandle = (code: number | string) => {\n  // console.log('err-code', code);\n  // throw code;\n  if (typeof code === 'string') {\n    const s: any = code;\n    if (isNaN(s)) {\n      throw code;\n    }\n  }\n  const c = Number(code);\n  const isErrBrower = errBrowerCode.includes(c);\n  if (!isErrBrower) {\n    throw c;\n  }\n  return;\n};\n// 因为很多内容都是通用，数据请求一般都是类似的形式，进行对应处理化，减少重复代码\nconst get = (url: string, requestConfig: AxiosRequestConfig | any = {}) =>\n  instance.get(url, { ...requestConfig }).catch((err) => errHandle(err));\nconst post = (url: string, requestConfig: AxiosRequestConfig | any = {}) =>\n  instance.post(url, { ...requestConfig }).catch((err) => errHandle(err));\nconst deleteApi = (url: string, requestConfig: AxiosRequestConfig | any = {}) =>\n  instance.delete(url, { ...requestConfig }).catch((err) => errHandle(err));\nconst put = (url: string, requestConfig: AxiosRequestConfig | any = {}) =>\n  instance.put(url, { ...requestConfig }).catch((err) => errHandle(err));\nexport { baseURL, get, post, deleteApi, put };\n","import { get } from '@/api';\n\nexport const getSwaggerJson = (url: string) => get(url);\n","import api from \"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./SectionKV.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import React from 'react';\nimport styled from 'styled-components';\nimport Styles from './SectionKV.scss';\nimport copy from 'copy-to-clipboard';\nimport { Button, message } from 'antd';\n\ntype Props = {\n  name?: string;\n  v: string;\n  children?: any;\n};\nconst Section = styled.section`\n  display: flex;\n  border: 1px solid #ccc;\n`;\nconst SectionKV = ({ name, v, children }: Props) => {\n  const bothHave = v && children;\n  const onCopy = () => {\n    const _ = copy(v);\n    _ && message.success(`复制${name}的值到剪贴板成功`);\n  };\n  return (\n    <Section className={Styles.SectionKV}>\n      <div style={{ width: 100 }} onClick={onCopy} title={`复制${name}内容`}>\n        <a>{name}</a>\n      </div>\n      <div style={{ flexGrow: 1 }} className={bothHave && Styles.ContentBoth}>\n        {v && <pre>{v}</pre>}\n        {children && <div>{children}</div>}\n      </div>\n    </Section>\n  );\n};\n\nexport { SectionKV };\n","import React, { useEffect, useState } from 'react';\nimport { observer } from 'mobx-react';\nimport Styles from './TransSwagger.scss';\nimport { useStore } from './store';\nimport { Button, Input, message } from 'antd';\nimport { useRequest } from 'ahooks';\nimport { getSwaggerJson } from './api';\nimport { Swagger } from './model';\nimport { SectionKV } from './compontents';\n\nconst { Search } = Input;\nlet showLoadingMsg: any = undefined;\n\nconst TransSwagger = observer(() => {\n  const { transSwaggerStore: store } = useStore();\n  const [apiUrl, setApiUrl] = useState('ApiUrl');\n  const { run, loading } = useRequest(getSwaggerJson, {\n    onSuccess: (data: Swagger) => {\n      const { swagger } = data;\n      if (swagger) {\n        store.loadSwagger(data);\n      } else {\n        message.error('not is Swagger api');\n      }\n    },\n  });\n  useEffect(() => {\n    console.log('loading', loading);\n    if (loading) {\n      const onClose = () => {\n        if (loading) {\n          message.error('获取信息错误');\n        }\n      };\n      showLoadingMsg = message.loading('content', 5, onClose);\n    } else {\n      showLoadingMsg && showLoadingMsg();\n    }\n  }, [loading]);\n\n  const apiUrlHead = (s: string | any = '') => {\n    if (typeof s !== 'string') {\n      s = JSON.stringify(s, null, 2);\n    }\n    return apiUrl ? `const ${apiUrl} = ` + s : s;\n  };\n  const FormSearch = (\n    <Search\n      placeholder='swagger api'\n      enterButton='Search'\n      size='large'\n      value={\n        store.data.searchText ??\n        'https://test.api.shanghuitui.com/ims/v2/api-docs'\n      }\n      onChange={(e) => {\n        const value = e.target.value;\n        store.setData({ searchText: value });\n      }}\n      onSearch={(value) => {\n        console.log('data', store.data, value);\n        run(store.data.searchText);\n      }}\n    />\n  );\n  const PathsInfo = <SectionKV name='路径' v={apiUrlHead(store.paths)} />;\n  const Content = (\n    <main className={Styles.Content}>\n      <h3>主要内容</h3>\n      <article style={{ padding: 10 }}>{PathsInfo}</article>\n    </main>\n  );\n  return (\n    <div className={Styles.TransSwagger}>\n      <div style={{ display: 'flex', justifyContent: 'center' }}>\n        {FormSearch}\n      </div>\n      <div style={{ display: 'flex' }}>\n        <Input\n          style={{ width: 200 }}\n          placeholder='路径名字'\n          defaultValue={apiUrl}\n          onChange={(e) => setApiUrl(e.target.value)}\n        />\n        <Button type='primary' onClick={() => store.loadPaths()}>\n          刷新地址\n        </Button>\n      </div>\n      {Content}\n    </div>\n  );\n});\nexport default TransSwagger;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".TransSwagger__TransSwagger___liJp4{width:80%;margin:auto;border:1px solid #3333;display:flex;flex-direction:column}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/pages/trans-swagger/TransSwagger.scss\"],\"names\":[],\"mappings\":\"AAEA,oCACE,SAAA,CACA,WAAA,CACA,sBAAA,CACA,YAAA,CACA,qBAAA\",\"sourcesContent\":[\"$TransSwagger: 20;\\n\\n.TransSwagger {\\n  width: 80%;\\n  margin: auto;\\n  border: 1px solid #3333;\\n  display: flex;\\n  flex-direction: column;;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"TransSwagger\": \"TransSwagger__TransSwagger___liJp4\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".SectionKV__SectionKV___2Bx3h{border:1px solid #ccc;box-sizing:border-box}.SectionKV__SectionKV___2Bx3h>div{box-sizing:border-box;border:1px solid #ccc}.SectionKV__SectionKV___2Bx3h>div:first-child{display:flex;justify-content:center;align-items:center}.SectionKV__SectionKV___2Bx3h>div:nth-child(2){width:0px;word-break:break-word}.SectionKV__ContentBoth___1XaKk div:first-child{box-sizing:border-box;border-bottom:1px solid #ccc}\", \"\",{\"version\":3,\"sources\":[\"webpack://src/pages/trans-swagger/compontents/section-kv/SectionKV.scss\"],\"names\":[],\"mappings\":\"AACA,8BACE,qBAAA,CACA,qBAAA,CACA,kCACE,qBAAA,CACA,qBAAA,CAEF,8CACE,YAAA,CACA,sBAAA,CACA,kBAAA,CAEF,+CACE,SAAA,CACA,qBAAA,CAKF,gDACE,qBAAA,CACA,4BAAA\",\"sourcesContent\":[\"$color: #ccc;\\n.SectionKV {\\n  border: 1px solid $color;\\n  box-sizing: border-box;\\n  & > div {\\n    box-sizing: border-box;\\n    border: 1px solid $color;\\n  }\\n  & > div:first-child {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n  }\\n  & > div:nth-child(2) {\\n    width: 0px;\\n    word-break: break-word;\\n  }\\n}\\n\\n.ContentBoth {\\n  div:first-child {\\n    box-sizing: border-box;\\n    border-bottom: 1px solid $color;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"SectionKV\": \"SectionKV__SectionKV___2Bx3h\",\n\t\"ContentBoth\": \"SectionKV__ContentBoth___1XaKk\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n"],"sourceRoot":""}